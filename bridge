-- puente.lua ðŸŒ‰
-- Genera un puente larguÃ­simo si un jugador pisa un bloque de roble

local LARGO    = 1000      -- longitud del puente hacia +X
local INTERVAL = 0.25      -- segundos entre chequeos

while true do
  ----------------------------------------------------------------
  --  Coloca (fill) una lÃ­nea de roble:                          --
  --   â€¢ por cada jugador (@a)                                   --
  --   â€¢ si el bloque bajo sus pies es oak_planks                --
  --   â€¢ desde ~1 hasta ~LARGO en X, a la misma altura (Yâ€‘1)     --
  --   â€¢ 'keep' evita sobrescribir bloques que ya existan        --
  ----------------------------------------------------------------
  local cmd = string.format(
    'execute as @a at @s if block ~ ~-1 ~ minecraft:oak_planks ' ..
    'run fill ~1 ~-1 ~ ~%d ~-1 ~ minecraft:oak_planks keep',
    LARGO
  )
  commands.exec(cmd)

  sleep(INTERVAL)
end
